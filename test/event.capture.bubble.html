<!DOCTYPE html>
<html><head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
<title>select</title>
<script type="text/javascript" src="./ZFS/kfguosen/public/eventsource.min.js"></script>
<script type="text/javascript">
if(!window.user){
	window.user={};
}
document.addEventListener("DOMContentLoaded",function(e){
	window.addEventListener("click",(a)=>{
		console.log("window.capture");console.log(a);a.preventDefault();//a.stopPropagation();
	},true);
	window.addEventListener("click",(a)=>{
		console.log("window.bubble");console.log(a);a.preventDefault();//a.stopPropagation();
	},false);
	
	let ele=window.document;
	ele.addEventListener("click",(a)=>{
		console.log("document.capture");console.log(a);a.preventDefault();//a.stopPropagation();
	},true);
	ele.addEventListener("click",(a)=>{
		console.log("document.bubble");console.log(a);a.preventDefault();//a.stopPropagation();
	},false);
	//------------------------------------------------------------------
	ele=document.documentElement;
	ele.addEventListener("click",(a)=>{
		console.log("html.capture");console.log(a);a.preventDefault();//a.stopPropagation();
	},true);
	ele.addEventListener("click",(a)=>{
		console.log("html.bubble");console.log(a);a.preventDefault();//a.stopPropagation();
	},false);
	
	ele=document.body;
	ele.addEventListener("click",(a)=>{
		console.log("body.capture");console.log(a);a.preventDefault();//a.stopPropagation();
	},true);
	ele.addEventListener("click",(a)=>{
		console.log("body.bubble");console.log(a);a.preventDefault();//a.stopPropagation();
	},false);
	//------------------------------------------------------------------
	ele=ele.firstElementChild;
	ele.addEventListener("click",(a)=>{
		console.log("article.capture");console.log(a);a.preventDefault();//a.stopPropagation();
	},true);
	ele.addEventListener("click",(a)=>{
		console.log("article.bubble");console.log(a);a.preventDefault();//a.stopPropagation();
	},false);
	
	ele=ele.firstElementChild;
	ele.addEventListener("click",(a)=>{
		console.log("section.capture");console.log(a);a.preventDefault();a.stopPropagation();
	},true);
	ele.addEventListener("click",(a)=>{
		console.log("section.bubble");console.log(a);a.preventDefault();a.stopPropagation();
	},false);
	
	ele=ele.firstElementChild;
	ele.addEventListener("click",(a)=>{
		console.log("aside.capture");console.log(a);a.preventDefault();a.stopPropagation();
	},true);
	ele.addEventListener("click",(a)=>{
		console.log("aside.bubble");console.log(a);a.preventDefault();a.stopPropagation();
	},false);
});
window.addEventListener("load",function(e){
	
});
function token(){
	let request=new XMLHttpRequest();
	request.open('POST','/guosen/ms-gpt/login');
	//request.open('GET','/guosen/dist/');
	request.setRequestHeader('Content-Type','application/json');
	request.addEventListener('readystatechange',function(){
		//if (this.readyState === 4) {let imgData = JSON.parse(this.responseText)}
	});
	request.withCredentials=true;
	request.send(JSON.stringify({name:'admin',password:'Gx82130833'}));
	//request.send();
}
function tuisong(){
	let es=new window.EventSourcePolyfill('/guosen/ms-gpt/createSse',{headers:{Authorization:'Bearer'+'token'}});
	es.onopen=(e)=>{
		console.log('onopen',e);
	}
	es.onmessage=(e)=>{
		console.log('onmessage',e);
	}
	es.onerror=(e)=>{
		console.log('onerror',e);
	}
}

</script>
<style type="text/css">
*{margin:0px;padding:0px;box-sizing:border-box;}
</style>
</head><body>
<article style="height:500px;border:1px solid red;">
	<section style="width:300px;height:300px;border:1px solid blue;">
		<aside style="width:100px;height:100px;border:1px solid green;"><aside>
	<section>
</article>
<button onclick="token()">token</button>
<button onclick="tuisong()">tuisong</button>
</body></html>